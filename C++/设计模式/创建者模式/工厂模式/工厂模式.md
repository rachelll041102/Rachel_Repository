# 工厂模式 


## 工厂方法模式

#### 概念
定义一个用于创建对象的接口，让子类决定实例化哪个产品类对象。工厂方法使一个产品类的实例化延迟到其工厂的子类。  
```
比如： 咖啡馆和工厂的例子：  
      
我们先创建一个抽象工厂类，一个抽象咖啡类。      然后根据需求创建具体的工厂/咖啡，并继承他们的基类
在咖啡馆点餐，咖啡馆把需求给到抽象工厂类，抽象工厂类再根据传递过来的要求，选择具体的工厂，创建具体的咖啡，并把创建好的具体的咖啡返回。  
  
            咖啡馆----->抽象工厂----->拿铁咖啡工厂    
                        |               |  
                        |               |  
                    美式咖啡工厂---->创建咖啡并返回  

这样符合开闭原则
```
#### 结构
1. 抽象工厂：提供了创建产品的接口，调用者通过它访问具体工厂的工厂方法来创建产品。  
2. 具体工厂：主要是实现抽象工厂中的抽象方法，完成具体产品的创建。  
3. 抽象产品：定义了产品的规范，描述了产品的主要特性和功能。  
4. 具体产品：实现了抽象产品角色所定义的接口，由具体工厂来创建，它同具体工厂之间一一对应。  

#### 优缺点
+ 优点：  
用户只需要知道具体工厂的名称就可得到所要的产品，无须知道产品的具体创建过程；在系统增加新的产品时只需要添加具体产品类和对应的具体工厂类，无须对原工厂进行任何修改，满足开闭原则；  
+ 缺点： 
每增加一个产品就要增加一个具体产品类和一个对应的具体工厂类，这增加了系统的复杂度。  



## 抽象工厂模式

#### 概念
是一种为访问类提供一个创建一组相关或相互依赖对象的接口，且访问类无须指定所要产品的具体类就能得到同族的不同等级的产品的模式结构。  
抽象工厂模式是工厂方法模式的升级版本，工厂方法模式只生产一个等级的产品，而抽象工厂模式可生产多个等级的产品。  
```
                                点餐   
                                |  
                                |  
                     KFC<------工厂----->麦当劳    
                     |       抽象类        |    
                     |                    |    
                     |                    |    
                做汉堡/做可乐-----------做汉堡/做可乐     
                                |   
                                |  
               （抽象类）主食<--制作流程  ----->饮品（抽象类）    
                     |                    |    
                     |                    |    
                     |                    |    
            KFC类汉堡/麦当劳类汉堡      KFC的可乐/麦当劳的可乐    

```
#### 结构
1. 抽象工厂：提供了创建产品的接口，它包含多个创建产品的方法，可以创建多个不同等级的产品。
2. 具体工厂：主要是实现抽象工厂中的多个抽象方法，完成具体产品的创建。
3. 抽象产品：定义了产品的规范，描述了产品的主要特性和功能，抽象工厂模式有多个抽象产品。
4. 具体产品：实现了抽象产品角色所定义的接口，由具体工厂来创建，它同具体工厂之间是多对一的关系。

#### 优缺点
+ 优点：  
当一个产品族中的多个对象被设计成一起工作时，它能保证客户端始终只使用同一个产品族中的对象。
+ 缺点：  
当产品族中需要增加一个新的产品时，所有的工厂类都需要进行修改。
