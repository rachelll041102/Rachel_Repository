
# 单例模式
单例模式，使用最广泛的设计模式之一。其意图是保证一个类仅有一个实例，并提供一个访问它的全局访问点，该实例被所有程序模块共享。  
  

## 单例模式拥有两种：  
饿汉式：类加载就**会**导致该单实例对象被创建  
懒汉式：类加载**不会**导致该单实例对象被创建，而是首次使用该对象时才会创建  


### 实现单例模式步骤： 
1. 构造函数初始化  
2. 增加静态私有的当前类的指针变量  
3. 提供静态对外接口，可以让用户获得单例对象  

#### 饿汉式  
在多线程的情况下会不安全。  


由于多线程的关系，可能当我们在**分配内存好了**以后，还没来得急初始化成员变量，就进行线程切换，另外一个线程拿到所有权后，由于内存已经分配了，但是**变量初始化还没进行**，因此获取成员变量的相关值会发生不一致现象。  
所以需要上锁 

并且每次调用静态接口的时候，都需要进行判定是否为空，开支较大

#### 懒汉式  
在类加载的时候就对实例进行**初始化**，没有线程安全问题  
获取实例的静态方法没有使用同步，调用效率高  
如果该实例从始至终都没被使用过，则会造成**内存浪费**。  